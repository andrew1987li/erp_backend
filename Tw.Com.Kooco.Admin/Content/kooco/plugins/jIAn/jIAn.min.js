define(function(){var f=!0,e="0.2.2",n=navigator.userAgent.toLowerCase(),i=n.indexOf("opera")!=-1||typeof opera!="undefined",t=n.indexOf("applewebkit")!=-1||navigator.vendor=="Apple Computer, Inc.",r=n.indexOf("webtv")!=-1,u=n.indexOf("msie")!=-1&&!i&&!t&&!r,h=u&&n.indexOf("msie 7.")!=-1,c=navigator.product=="Gecko"&&!t,l=n.indexOf("konqueror")!=-1,o=n.indexOf("compatible")==-1&&n.indexOf("mozilla")!=-1&&!i&&!r&&!t,a=o&&parseInt(navigator.appVersion)==4,s=n.indexOf("mac")!=-1,v=window.RegExp?!0:!1;return function(){var t=function(n){if(f){var t=new Date;console.log(t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()+" "+n)}},h=function(){this.strClassName="jIAn_PHP_Emulator";this.$_GET=function(n){var r,t,i;if(n=="")return{};for(r={},t=0;t<n.length;++t)(i=n[t].split("="),i.length==2)&&(r[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")));return r}(window.location.search.substr(1).split("&"));this.STR_PAD_LEFT=1;this.STR_PAD_RIGHT=2;this.STR_PAD_BOTH=3;this.str_pad=function(n,t,i,r){if(typeof n=="number"&&(n=n.toString()),typeof t=="undefined"&&(t=0),typeof i=="undefined"&&(i=" "),typeof r=="undefined"&&(r=this.STR_PAD_LEFT),t+1>=n.length)switch(r){case this.STR_PAD_LEFT:n=Array(t+1-n.length).join(i)+n;break;case this.STR_PAD_BOTH:var u,f=Math.ceil((u=t-n.length)/2),e=u-f;n=Array(e+1).join(i)+n+Array(f+1).join(i);break;default:n=n+Array(t+1-n.length).join(i)}return n};this.round=function(n,t){return typeof t=="undefined"&&(t=0),Math.round(n*Math.pow(10,t))/Math.pow(10,t)};this.getClassName=function(){return this.strClassName};this.ltrim=function(n){return typeof n=="undefined"?"":n.replace(/^\s+/g,"")};this.rtrim=function(n){return typeof n=="undefined"?"":n.replace(/(\s+)$/g,"")};this.trim=function(n){return this.ltrim(this.rtrim(n))};this.urlencode=function(n){var t,i,r;if(n=escape(n.toString()).replace(/\+/g,"%2B"),t=n.match(/(%([0-9A-F]{2}))/gi),t)for(i=0;i<t.length;i++)r=t[i].substring(1,3),parseInt(r,16)>=128&&(n=n.replace(t[i],"%u00"+r));return n.replace("%25","%u0025")};this.in_array=function(n,t,i){var u=new String(n),r;if(i){u=u.toLowerCase();for(r in t)if(t[r].toLowerCase()==u)return r}else for(r in t)if(t[r]==u)return r;return-1};this.htmlspecialchars=function(n){for(var i=[s&&u?new RegExp("&","g"):new RegExp("&(?!#[0-9]+;)","g"),new RegExp("<","g"),new RegExp(">","g"),new RegExp('"',"g")],r=["&amp;","&lt;","&gt;","&quot;"],t=0;t<i.length;t++)n=n.replace(i[t],r[t]);return n};this.unhtmlspecialchars=function(n){var t=[/&lt;/g,/&gt;/g,/&quot;/g,/&amp;/g,/&nbsp;/g],r=["<",">",'"',"&"," "];for(var i in t)n=n.replace(t[i],r[i]);return n};this.unescape_cdata=function(n){return n.replace(/<\=\!\=\[\=C\=D\=A\=T\=A\=\[/g,"<![CDATA[").replace(/\]\=\]\=>/g,"]\]>")};this.formatNumber=function(n,t){var l=n.toString(),e,r,s,f,c,u,i,h,a,o,v,y;return/\./g.test(t)?(s=t.split(".")[0],f=t.split(".")[1]):(s=t,f=null),/\./g.test(l)?f!=null?(c=Math.round(parseFloat("0."+l.split(".")[1])*Math.pow(10,f.length))/Math.pow(10,f.length),e=(Math.floor(n)+Math.floor(c)).toString(),r=/\./g.test(c.toString())?c.toString().split(".")[1]:"0"):(e=Math.round(n).toString(),r="0"):(e=l,r="0"),s!=null&&(i="",u=s.match(/0*$/)[0].length,h=null,/,/g.test(s)&&(h=s.match(/,[^,]*/)[0].length-1),a=new RegExp("(\\d{"+h+"})","g"),e.length<u?(i=new Array(u+1).join("0")+e,i=i.substr(i.length-u,u)):i=e,i=i.substr(0,i.length%h)+i.substring(i.length%h).replace(a,(h!=null?",":"")+"$1"),i=i.replace(/^,/,""),e=i),f!=null?(o="",u=f.match(/^0*/)[0].length,r.length<u?(o=r+new Array(u+1).join("0"),v=o.substring(0,u),y=o.substring(u,f.length),o=v+y.replace(/0*$/,"")):o=r.substring(0,f.length),r=o):(t!=""||t==""&&r=="0")&&(r=""),e+(r==""?"":"."+r)};this.getParameterByName=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}},i=new h,r=function(){this.aryVariables=[];this.strClassName="jIAn_Hidden_Form";this.getClassName=function(){return this.strClassName};this.add_variable=function(n,t){for(var r=!0,i=0;i<this.aryVariables.length;i++)if(this.aryVariables[i][0]==n){this.aryVariables[i][1]=t;r=!1;break}r&&(this.aryVariables[this.aryVariables.length]=[n,t])};this.add_variables_from_object=function(n){for(var r=fetch_tags(n,"input"),f,i,u,t=0;t<r.length;t++)switch(r[t].type){case"checkbox":case"radio":r[t].checked&&this.add_variable(r[t].name,r[t].value);break;case"text":case"hidden":case"password":this.add_variable(r[t].name,r[t].value);break;default:continue}for(f=fetch_tags(n,"textarea"),t=0;t<f.length;t++)this.add_variable(f[t].name,f[t].value);for(i=fetch_tags(n,"select"),t=0;t<i.length;t++)if(i[t].multiple)for(u=0;u<i[t].options.length;u++)i[t].options[u].selected&&this.add_variable(i[t].name,i[t].options[u].value);else this.add_variable(i[t].name,i[t].options[i[t].selectedIndex].value)};this.fetch_variable=function(n){for(var t=0;t<this.aryVariables.length;t++)if(this.aryVariables[t][0]==n)return this.aryVariables[t][1];return null};this.clear_variable=function(){return this.aryVariables=[],null};this.submit_form=function(n,t,i){var r,u;for(typeof i=="undefined"&&(i="_self"),this.objForm=document.createElement("form"),this.objForm.method=n,this.objForm.action=t,this.objForm.target=i,r=0;r<this.aryVariables.length;r++)u=document.createElement("input"),u.type="hidden",u.name=this.aryVariables[r][0],u.value=this.aryVariables[r][1],this.objForm.appendChild(u);document.body.appendChild(this.objForm).submit()};this.add_form=function(n,t,i){var r,u;for(this.objNewForm=document.createElement("form"),this.objNewForm.id=n,this.objNewForm.name=n,this.objNewForm.method=t,this.objNewForm.action=i,r=0;r<this.aryVariables.length;r++)u=document.createElement("input"),u.type="hidden",u.name=this.aryVariables[r][0],u.value=this.aryVariables[r][1],this.objNewForm.appendChild(u);document.body.appendChild(this.objNewForm)};this.build_query_string=function(){for(var t="",n=0;n<this.aryVariables.length;n++)t+=this.aryVariables[n][0]+"="+i.urlencode(this.aryVariables[n][1])+"&";return t}},o;return r.prototype={fetch_tags:function(n,t){return typeof n.getElementsByTagName!="undefined"?n.getElementsByTagName(t):n.all&&n.all.tags?n.all.tags(t):null}},o=new r,t("jIAn ver is "+e),t("userAgent is "+n),{log:t,form:o,PHP:i}}()})